# ============================================
# Configuration pour exécution LOCALE (sans Terraform)
# ============================================
# Ce fichier est utilisé pour lancer l'application localement avec Docker Compose.
# Pour un déploiement cloud avec Terraform, utilisez .env.tf.example à la place.
#
# Usage:
#   1. Copiez ce fichier: cp .env.local.example .env
#   2. Générez votre WEBUI_SECRET_KEY (voir instructions ci-dessous)
#   3. Lancez: make start (ou docker-compose up)

# ============================================
# Ollama Configuration
# ============================================
OLLAMA_PORT=11434
OLLAMA_ORIGINS=*
# Keep model loaded indefinitely (never unload), or use time like 30m
OLLAMA_KEEP_ALIVE=-1
OLLAMA_MAX_LOADED_MODELS=1
# Increase timeout for large model operations
OLLAMA_LOAD_TIMEOUT=10m

# ============================================
# Model Configuration
# ============================================
MODEL_NAME=gpt-oss:120b
MODEL_PULL_ON_START=true

# ============================================
# API Configuration
# ============================================
# Increased timeout for 120B model inference
API_TIMEOUT=600

# ============================================
# Logging
# ============================================
LOG_LEVEL=info

# ============================================
# Open WebUI Configuration
# ============================================
WEBUI_PORT=3000

# WEBUI_SECRET_KEY : Clé de chiffrement Fernet pour Open WebUI
#
# IMPORTANT: Vous DEVEZ générer une clé pour l'exécution locale:
#   python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
#
# Exemple de clé générée:
#   WEBUI_SECRET_KEY="pSJL7v5N9K2mC8xR4wQ1tY6nH3fG0bV8aZ5jD2lM7eU="
#
WEBUI_SECRET_KEY=""

WEBUI_NAME="LLM Chat"
# Allow user signup (set to false after creating admin account)
ENABLE_SIGNUP=true
# Default role for new users: pending, user, or admin
DEFAULT_USER_ROLE=pending
# Enable authentication (always true for security)
WEBUI_AUTH=true

# ============================================
# Production HTTPS Configuration (optional)
# ============================================
# Pour utilisation locale, laissez vide.
# Pour un déploiement web avec domaine personnalisé:
#
# Votre nom de domaine (ex: chat.exemple.com)
DOMAIN_NAME=""
# Email pour les notifications Let's Encrypt
ACME_EMAIL=""
